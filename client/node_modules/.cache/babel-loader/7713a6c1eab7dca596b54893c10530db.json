{"ast":null,"code":"const {\n  spawn\n} = require('@npmcli/git');\n\nconst semver = require('semver');\n\nmodule.exports = async opts => {\n  const tag = (await spawn(['describe', '--tags', '--abbrev=0', '--match=*.*.*'], opts)).stdout.trim();\n  const ver = semver.coerce(tag, {\n    loose: true\n  });\n\n  if (ver) {\n    return ver.version;\n  }\n\n  throw new Error(`Tag is not a valid version: ${JSON.stringify(tag)}`);\n};","map":{"version":3,"sources":["C:/Users/ghedi/Documents/GhedBlog/node_modules/npm/node_modules/libnpmversion/lib/retrieve-tag.js"],"names":["spawn","require","semver","module","exports","opts","tag","stdout","trim","ver","coerce","loose","version","Error","JSON","stringify"],"mappings":"AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAYC,OAAO,CAAC,aAAD,CAAzB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,MAAMC,IAAN,IAAc;AAC7B,QAAMC,GAAG,GAAG,CAAC,MAAMN,KAAK,CAAC,CAAC,UAAD,EAAa,QAAb,EAAuB,YAAvB,EAAqC,eAArC,CAAD,EAAwDK,IAAxD,CAAZ,EAA2EE,MAA3E,CAAkFC,IAAlF,EAAZ;AACA,QAAMC,GAAG,GAAGP,MAAM,CAACQ,MAAP,CAAcJ,GAAd,EAAmB;AAAEK,IAAAA,KAAK,EAAE;AAAT,GAAnB,CAAZ;;AACA,MAAIF,GAAJ,EAAS;AACP,WAAOA,GAAG,CAACG,OAAX;AACD;;AACD,QAAM,IAAIC,KAAJ,CAAW,+BAA8BC,IAAI,CAACC,SAAL,CAAeT,GAAf,CAAoB,EAA7D,CAAN;AACD,CAPD","sourcesContent":["const { spawn } = require('@npmcli/git')\nconst semver = require('semver')\n\nmodule.exports = async opts => {\n  const tag = (await spawn(['describe', '--tags', '--abbrev=0', '--match=*.*.*'], opts)).stdout.trim()\n  const ver = semver.coerce(tag, { loose: true })\n  if (ver) {\n    return ver.version\n  }\n  throw new Error(`Tag is not a valid version: ${JSON.stringify(tag)}`)\n}\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ghedi\\\\Documents\\\\GhedBlog\\\\client\\\\src\\\\context\\\\Context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { createContext, useEffect, useReducer } from \"react\";\nimport Reducer from \"./Reducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst INITIAL_STATE = {\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\n  isFetching: false,\n  error: false\n};\nexport const Context = /*#__PURE__*/createContext(INITIAL_STATE);\n_c = Context;\nexport const ContextProvider = ({\n  children\n}) => {\n  _s();\n\n  const [state, dispatch] = useReducer(Reducer, INITIAL_STATE);\n  useEffect(() => {\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\n  }, [state.user]);\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      user: state.user,\n      isFetching: state.isFetching,\n      error: state.error,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContextProvider, \"zpn/kx5Q6O+5t2dWmjRtda+kHzA=\");\n\n_c2 = ContextProvider;\nconst PostsContext = /*#__PURE__*/createContext();\n\nfunction PostsContextProvider({\n  children\n}) {\n  _s2();\n\n  // Initialize state \n  const [posts, setPosts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true); //fetch posts\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      await axios.get(\"/posts\").then(response => setPosts(response.data));\n      setIsLoading(false);\n    };\n\n    fetchPosts();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(PostsContextProvider, {\n    value: {\n      posts\n    },\n    loaded: isLoading,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(PostsContextProvider, \"qhliF5PbFshCXO7Uorkt3Z75jXw=\");\n\n_c3 = PostsContextProvider;\nexport default PostsContextProvider;\nexport function usePostsContext() {\n  _s3();\n\n  const postscontext = useContext(PostsContext);\n\n  if (postscontext === undefined) {\n    throw new Error(\"context must be used within a Provider\");\n  }\n\n  return postscontext;\n}\n\n_s3(usePostsContext, \"r0k9tZMAD8FR6uDVgZ+2NQpcMIM=\");\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Context\");\n$RefreshReg$(_c2, \"ContextProvider\");\n$RefreshReg$(_c3, \"PostsContextProvider\");","map":{"version":3,"sources":["C:/Users/ghedi/Documents/GhedBlog/client/src/context/Context.js"],"names":["createContext","useEffect","useReducer","Reducer","INITIAL_STATE","user","JSON","parse","localStorage","getItem","isFetching","error","Context","ContextProvider","children","state","dispatch","setItem","stringify","PostsContext","PostsContextProvider","posts","setPosts","useState","isLoading","setIsLoading","fetchPosts","axios","get","then","response","data","usePostsContext","postscontext","useContext","undefined","Error"],"mappings":";;;;;AAAA,SAASA,aAAT,EAAwBC,SAAxB,EAAmCC,UAAnC,QAAqD,OAArD;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,IAAI,EAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,KAA4C,IAD9B;AAEpBC,EAAAA,UAAU,EAAE,KAFQ;AAGpBC,EAAAA,KAAK,EAAE;AAHa,CAAtB;AAKA,OAAO,MAAMC,OAAO,gBAAGZ,aAAa,CAACI,aAAD,CAA7B;KAAMQ,O;AAEb,OAAO,MAAMC,eAAe,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAC/C,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBd,UAAU,CAACC,OAAD,EAAUC,aAAV,CAApC;AACAH,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,YAAY,CAACS,OAAb,CAAqB,MAArB,EAA6BX,IAAI,CAACY,SAAL,CAAeH,KAAK,CAACV,IAArB,CAA7B;AACD,GAFQ,EAEN,CAACU,KAAK,CAACV,IAAP,CAFM,CAAT;AAGA,sBACE,QAAC,OAAD,CAAS,QAAT;AACE,IAAA,KAAK,EAAE;AACLA,MAAAA,IAAI,EAAEU,KAAK,CAACV,IADP;AAELK,MAAAA,UAAU,EAAEK,KAAK,CAACL,UAFb;AAGLC,MAAAA,KAAK,EAAEI,KAAK,CAACJ,KAHR;AAILK,MAAAA;AAJK,KADT;AAAA,cAQGF;AARH;AAAA;AAAA;AAAA;AAAA,UADF;AAYD,CAjBM;;GAAMD,e;;MAAAA,e;AAkBb,MAAMM,YAAY,gBAAGnB,aAAa,EAAlC;;AAEA,SAASoB,oBAAT,CAA8B;AAACN,EAAAA;AAAD,CAA9B,EAAyC;AAAA;;AACrC;AACA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAmBC,QAAQ,CAAC,EAAD,CAAjC;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BF,QAAQ,CAAC,IAAD,CAA1C,CAHqC,CAKrC;;AAEAtB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMyB,UAAU,GAAG,YAAY;AAC7B,YAAMC,KAAK,CACRC,GADG,CACC,QADD,EAEHC,IAFG,CAEGC,QAAD,IAAcR,QAAQ,CAACQ,QAAQ,CAACC,IAAV,CAFxB,CAAN;AAGEN,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,KALD;;AAMAC,IAAAA,UAAU;AACX,GARM,EAQJ,EARI,CAAT;AASA,sBACI,QAAC,oBAAD;AAAsB,IAAA,KAAK,EAAE;AAACL,MAAAA;AAAD,KAA7B;AAAsC,IAAA,MAAM,EAAEG,SAA9C;AAAA,cACKV;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH;;IArBQM,oB;;MAAAA,oB;AAsBT,eAAeA,oBAAf;AAEA,OAAO,SAASY,eAAT,GAA2B;AAAA;;AAC9B,QAAMC,YAAY,GAAGC,UAAU,CAACf,YAAD,CAA/B;;AACA,MAAGc,YAAY,KAAKE,SAApB,EAA8B;AAC1B,UAAM,IAAIC,KAAJ,CAAU,wCAAV,CAAN;AACH;;AACD,SAAOH,YAAP;AACH;;IANeD,e","sourcesContent":["import { createContext, useEffect, useReducer } from \"react\";\r\nimport Reducer from \"./Reducer\";\r\n\r\nconst INITIAL_STATE = {\r\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\r\n  isFetching: false,\r\n  error: false,\r\n};\r\nexport const Context = createContext(INITIAL_STATE);\r\n\r\nexport const ContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(Reducer, INITIAL_STATE);\r\n  useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\r\n  }, [state.user]);\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        user: state.user,\r\n        isFetching: state.isFetching,\r\n        error: state.error,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n};\r\nconst PostsContext = createContext();\r\n\r\nfunction PostsContextProvider({children}){\r\n    // Initialize state \r\n    const [posts, setPosts]= useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    //fetch posts\r\n\r\n    useEffect(() => {\r\n        const fetchPosts = async () => {\r\n          await axios\r\n            .get(\"/posts\")\r\n            .then((response) => setPosts(response.data));\r\n            setIsLoading(false);\r\n        };\r\n        fetchPosts();\r\n      }, []);\r\n    return(\r\n        <PostsContextProvider value={{posts}} loaded={isLoading}>\r\n            {children}\r\n        </PostsContextProvider>\r\n    )\r\n}\r\nexport default PostsContextProvider;\r\n\r\nexport function usePostsContext() {\r\n    const postscontext = useContext(PostsContext);\r\n    if(postscontext === undefined){\r\n        throw new Error(\"context must be used within a Provider\");\r\n    }\r\n    return postscontext;\r\n}"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"'use strict';\n\nconst url = require('url');\n\nfunction packageName(href) {\n  try {\n    let basePath = new url.URL(href).pathname.substr(1);\n\n    if (!basePath.match(/^-/)) {\n      basePath = basePath.split('/');\n      var index = basePath.indexOf('_rewrite');\n      if (index === -1) index = basePath.length - 1;else index++;\n      return decodeURIComponent(basePath[index]);\n    }\n  } catch (_) {// this is ok\n  }\n}\n\nclass HttpErrorBase extends Error {\n  constructor(method, res, body, spec) {\n    super();\n    this.name = this.constructor.name;\n    this.headers = res.headers.raw();\n    this.statusCode = res.status;\n    this.code = `E${res.status}`;\n    this.method = method;\n    this.uri = res.url;\n    this.body = body;\n    this.pkgid = spec ? spec.toString() : packageName(res.url);\n  }\n\n}\n\nmodule.exports.HttpErrorBase = HttpErrorBase;\n\nclass HttpErrorGeneral extends HttpErrorBase {\n  constructor(method, res, body, spec) {\n    super(method, res, body, spec);\n    this.message = `${res.status} ${res.statusText} - ${this.method.toUpperCase()} ${this.spec || this.uri}${body && body.error ? ' - ' + body.error : ''}`;\n    Error.captureStackTrace(this, HttpErrorGeneral);\n  }\n\n}\n\nmodule.exports.HttpErrorGeneral = HttpErrorGeneral;\n\nclass HttpErrorAuthOTP extends HttpErrorBase {\n  constructor(method, res, body, spec) {\n    super(method, res, body, spec);\n    this.message = 'OTP required for authentication';\n    this.code = 'EOTP';\n    Error.captureStackTrace(this, HttpErrorAuthOTP);\n  }\n\n}\n\nmodule.exports.HttpErrorAuthOTP = HttpErrorAuthOTP;\n\nclass HttpErrorAuthIPAddress extends HttpErrorBase {\n  constructor(method, res, body, spec) {\n    super(method, res, body, spec);\n    this.message = 'Login is not allowed from your IP address';\n    this.code = 'EAUTHIP';\n    Error.captureStackTrace(this, HttpErrorAuthIPAddress);\n  }\n\n}\n\nmodule.exports.HttpErrorAuthIPAddress = HttpErrorAuthIPAddress;\n\nclass HttpErrorAuthUnknown extends HttpErrorBase {\n  constructor(method, res, body, spec) {\n    super(method, res, body, spec);\n    this.message = 'Unable to authenticate, need: ' + res.headers.get('www-authenticate');\n    Error.captureStackTrace(this, HttpErrorAuthUnknown);\n  }\n\n}\n\nmodule.exports.HttpErrorAuthUnknown = HttpErrorAuthUnknown;","map":{"version":3,"sources":["C:/Users/ghedi/Documents/GhedBlog/node_modules/npm/node_modules/npm-registry-fetch/errors.js"],"names":["url","require","packageName","href","basePath","URL","pathname","substr","match","split","index","indexOf","length","decodeURIComponent","_","HttpErrorBase","Error","constructor","method","res","body","spec","name","headers","raw","statusCode","status","code","uri","pkgid","toString","module","exports","HttpErrorGeneral","message","statusText","toUpperCase","error","captureStackTrace","HttpErrorAuthOTP","HttpErrorAuthIPAddress","HttpErrorAuthUnknown","get"],"mappings":"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","sourcesContent":["'use strict'\n\nconst url = require('url')\n\nfunction packageName (href) {\n  try {\n    let basePath = new url.URL(href).pathname.substr(1)\n    if (!basePath.match(/^-/)) {\n      basePath = basePath.split('/')\n      var index = basePath.indexOf('_rewrite')\n      if (index === -1)\n        index = basePath.length - 1\n      else\n        index++\n      return decodeURIComponent(basePath[index])\n    }\n  } catch (_) {\n    // this is ok\n  }\n}\n\nclass HttpErrorBase extends Error {\n  constructor (method, res, body, spec) {\n    super()\n    this.name = this.constructor.name\n    this.headers = res.headers.raw()\n    this.statusCode = res.status\n    this.code = `E${res.status}`\n    this.method = method\n    this.uri = res.url\n    this.body = body\n    this.pkgid = spec ? spec.toString() : packageName(res.url)\n  }\n}\nmodule.exports.HttpErrorBase = HttpErrorBase\n\nclass HttpErrorGeneral extends HttpErrorBase {\n  constructor (method, res, body, spec) {\n    super(method, res, body, spec)\n    this.message = `${res.status} ${res.statusText} - ${\n      this.method.toUpperCase()\n    } ${\n      this.spec || this.uri\n    }${\n      (body && body.error) ? ' - ' + body.error : ''\n    }`\n    Error.captureStackTrace(this, HttpErrorGeneral)\n  }\n}\nmodule.exports.HttpErrorGeneral = HttpErrorGeneral\n\nclass HttpErrorAuthOTP extends HttpErrorBase {\n  constructor (method, res, body, spec) {\n    super(method, res, body, spec)\n    this.message = 'OTP required for authentication'\n    this.code = 'EOTP'\n    Error.captureStackTrace(this, HttpErrorAuthOTP)\n  }\n}\nmodule.exports.HttpErrorAuthOTP = HttpErrorAuthOTP\n\nclass HttpErrorAuthIPAddress extends HttpErrorBase {\n  constructor (method, res, body, spec) {\n    super(method, res, body, spec)\n    this.message = 'Login is not allowed from your IP address'\n    this.code = 'EAUTHIP'\n    Error.captureStackTrace(this, HttpErrorAuthIPAddress)\n  }\n}\nmodule.exports.HttpErrorAuthIPAddress = HttpErrorAuthIPAddress\n\nclass HttpErrorAuthUnknown extends HttpErrorBase {\n  constructor (method, res, body, spec) {\n    super(method, res, body, spec)\n    this.message = 'Unable to authenticate, need: ' + res.headers.get('www-authenticate')\n    Error.captureStackTrace(this, HttpErrorAuthUnknown)\n  }\n}\nmodule.exports.HttpErrorAuthUnknown = HttpErrorAuthUnknown\n"]},"metadata":{},"sourceType":"script"}
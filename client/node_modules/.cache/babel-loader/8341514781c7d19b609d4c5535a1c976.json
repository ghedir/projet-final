{"ast":null,"code":"/* eslint-disable no-undef */\nvar fs = require('fs');\n\nvar path = require('path');\n\nvar validateLicense = require('validate-npm-package-license');\n\nvar validateName = require('validate-npm-package-name');\n\nvar npa = require('npm-package-arg');\n\nvar semver = require('semver'); // more popular packages should go here, maybe?\n\n\nfunction isTestPkg(p) {\n  return !!p.match(/^(expresso|mocha|tap|coffee-script|coco|streamline)$/);\n}\n\nfunction niceName(n) {\n  return n.replace(/^node-|[.-]js$/g, '').replace(/\\s+/g, ' ').replace(/ /g, '-').toLowerCase();\n}\n\nfunction readDeps(test, excluded) {\n  return function (cb) {\n    fs.readdir('node_modules', function (er, dir) {\n      if (er) {\n        return cb();\n      }\n\n      var deps = {};\n      var n = dir.length;\n\n      if (n === 0) {\n        return cb(null, deps);\n      }\n\n      dir.forEach(function (d) {\n        if (d.match(/^\\./)) {\n          return next();\n        }\n\n        if (test !== isTestPkg(d) || excluded[d]) {\n          return next();\n        }\n\n        var dp = path.join(dirname, 'node_modules', d, 'package.json');\n        fs.readFile(dp, 'utf8', function (er, p) {\n          if (er) {\n            return next();\n          }\n\n          try {\n            p = JSON.parse(p);\n          } catch (e) {\n            return next();\n          }\n\n          if (!p.version) {\n            return next();\n          }\n\n          if (p._requiredBy) {\n            if (!p._requiredBy.some(function (req) {\n              return req === '#USER';\n            })) {\n              return next();\n            }\n          }\n\n          deps[d] = config.get('save-exact') ? p.version : config.get('save-prefix') + p.version;\n          return next();\n        });\n      });\n\n      function next() {\n        if (--n === 0) {\n          return cb(null, deps);\n        }\n      }\n    });\n  };\n}\n\nvar name = niceName(package.name || basename);\nvar spec;\n\ntry {\n  spec = npa(name);\n} catch (e) {\n  spec = {};\n}\n\nvar scope = config.get('scope');\n\nif (scope) {\n  if (scope.charAt(0) !== '@') {\n    scope = '@' + scope;\n  }\n\n  if (spec.scope) {\n    name = scope + '/' + spec.name.split('/')[1];\n  } else {\n    name = scope + '/' + name;\n  }\n}\n\nexports.name = yes ? name : prompt('package name', name, function (data) {\n  var its = validateName(data);\n\n  if (its.validForNewPackages) {\n    return data;\n  }\n\n  var errors = (its.errors || []).concat(its.warnings || []);\n  var er = new Error('Sorry, ' + errors.join(' and ') + '.');\n  er.notValid = true;\n  return er;\n});\nconst defaultDottedInitVersion = config && config.defaults && config.defaults['init.version'];\nconst dottedInitVersion = config.get('init.version') !== defaultDottedInitVersion && config.get('init.version');\nvar version = package.version || dottedInitVersion || config.get('init-version') || '1.0.0';\nexports.version = yes ? version : prompt('version', version, function (version) {\n  if (semver.valid(version)) {\n    return version;\n  }\n\n  var er = new Error('Invalid version: \"' + version + '\"');\n  er.notValid = true;\n  return er;\n});\n\nif (!package.description) {\n  exports.description = yes ? '' : prompt('description');\n}\n\nif (!package.main) {\n  exports.main = function (cb) {\n    fs.readdir(dirname, function (er, f) {\n      if (er) {\n        f = [];\n      }\n\n      f = f.filter(function (f) {\n        return f.match(/\\.js$/);\n      });\n\n      if (f.indexOf('index.js') !== -1) {\n        f = 'index.js';\n      } else if (f.indexOf('main.js') !== -1) {\n        f = 'main.js';\n      } else if (f.indexOf(basename + '.js') !== -1) {\n        f = basename + '.js';\n      } else {\n        f = f[0];\n      }\n\n      var index = f || 'index.js';\n      return cb(null, yes ? index : prompt('entry point', index));\n    });\n  };\n}\n\nif (!package.bin) {\n  exports.bin = function (cb) {\n    fs.readdir(path.resolve(dirname, 'bin'), function (er, d) {\n      // no bins\n      if (er) {\n        return cb();\n      } // just take the first js file we find there, or nada\n\n\n      let r = d.find(f => f.match(/\\.js$/));\n\n      if (r) {\n        r = `bin/${r}`;\n      }\n\n      return cb(null, r);\n    });\n  };\n}\n\nexports.directories = function (cb) {\n  fs.readdir(dirname, function (er, dirs) {\n    if (er) {\n      return cb(er);\n    }\n\n    var res = {};\n    dirs.forEach(function (d) {\n      switch (d) {\n        case 'example':\n        case 'examples':\n          return res.example = d;\n\n        case 'test':\n        case 'tests':\n          return res.test = d;\n\n        case 'doc':\n        case 'docs':\n          return res.doc = d;\n\n        case 'man':\n          return res.man = d;\n\n        case 'lib':\n          return res.lib = d;\n      }\n    });\n\n    if (Object.keys(res).length === 0) {\n      res = undefined;\n    }\n\n    return cb(null, res);\n  });\n};\n\nif (!package.dependencies) {\n  exports.dependencies = readDeps(false, package.devDependencies || {});\n}\n\nif (!package.devDependencies) {\n  exports.devDependencies = readDeps(true, package.dependencies || {});\n} // MUST have a test script!\n\n\nvar s = package.scripts || {};\nvar notest = 'echo \"Error: no test specified\" && exit 1';\n\nif (!package.scripts) {\n  exports.scripts = function (cb) {\n    fs.readdir(path.join(dirname, 'node_modules'), function (er, d) {\n      setupScripts(d || [], cb);\n    });\n  };\n}\n\nfunction setupScripts(d, cb) {\n  // check to see what framework is in use, if any\n  function tx(test) {\n    return test || notest;\n  }\n\n  if (!s.test || s.test === notest) {\n    var commands = {\n      tap: 'tap test/*.js',\n      expresso: 'expresso test',\n      mocha: 'mocha'\n    };\n    var command;\n    Object.keys(commands).forEach(function (k) {\n      if (d.indexOf(k) !== -1) {\n        command = commands[k];\n      }\n    });\n    var ps = 'test command';\n\n    if (yes) {\n      s.test = command || notest;\n    } else {\n      s.test = command ? prompt(ps, command, tx) : prompt(ps, tx);\n    }\n  }\n\n  return cb(null, s);\n}\n\nif (!package.repository) {\n  exports.repository = function (cb) {\n    fs.readFile('.git/config', 'utf8', function (er, gconf) {\n      if (er || !gconf) {\n        return cb(null, yes ? '' : prompt('git repository'));\n      }\n\n      gconf = gconf.split(/\\r?\\n/);\n      var i = gconf.indexOf('[remote \"origin\"]');\n\n      if (i !== -1) {\n        var u = gconf[i + 1];\n\n        if (!u.match(/^\\s*url =/)) {\n          u = gconf[i + 2];\n        }\n\n        if (!u.match(/^\\s*url =/)) {\n          u = null;\n        } else {\n          u = u.replace(/^\\s*url = /, '');\n        }\n      }\n\n      if (u && u.match(/^git@github.com:/)) {\n        u = u.replace(/^git@github.com:/, 'https://github.com/');\n      }\n\n      return cb(null, yes ? u : prompt('git repository', u));\n    });\n  };\n}\n\nif (!package.keywords) {\n  exports.keywords = yes ? '' : prompt('keywords', function (s) {\n    if (!s) {\n      return undefined;\n    }\n\n    if (Array.isArray(s)) {\n      s = s.join(' ');\n    }\n\n    if (typeof s !== 'string') {\n      return s;\n    }\n\n    return s.split(/[\\s,]+/);\n  });\n}\n\nif (!package.author) {\n  exports.author = config.get('init.author.name') || config.get('init-author-name') ? {\n    name: config.get('init.author.name') || config.get('init-author-name'),\n    email: config.get('init.author.email') || config.get('init-author-email'),\n    url: config.get('init.author.url') || config.get('init-author-url')\n  } : yes ? '' : prompt('author');\n}\n\nconst defaultDottedInitLicense = config && config.defaults && config.defaults['init.license'];\nconst dottedInitLicense = config.get('init.license') !== defaultDottedInitLicense && config.get('init.license');\nvar license = package.license || dottedInitLicense || config.get('init-license') || 'ISC';\nexports.license = yes ? license : prompt('license', license, function (data) {\n  var its = validateLicense(data);\n\n  if (its.validForNewPackages) {\n    return data;\n  }\n\n  var errors = (its.errors || []).concat(its.warnings || []);\n  var er = new Error('Sorry, ' + errors.join(' and ') + '.');\n  er.notValid = true;\n  return er;\n});","map":{"version":3,"sources":["C:/Users/ghedi/Documents/GhedBlog/node_modules/npm/node_modules/init-package-json/lib/default-input.js"],"names":["fs","require","path","validateLicense","validateName","npa","semver","isTestPkg","p","match","niceName","n","replace","toLowerCase","readDeps","test","excluded","cb","readdir","er","dir","deps","length","forEach","d","next","dp","join","dirname","readFile","JSON","parse","e","version","_requiredBy","some","req","config","get","name","package","basename","spec","scope","charAt","split","exports","yes","prompt","data","its","validForNewPackages","errors","concat","warnings","Error","notValid","defaultDottedInitVersion","defaults","dottedInitVersion","valid","description","main","f","filter","indexOf","index","bin","resolve","r","find","directories","dirs","res","example","doc","man","lib","Object","keys","undefined","dependencies","devDependencies","s","scripts","notest","setupScripts","tx","commands","tap","expresso","mocha","command","k","ps","repository","gconf","i","u","keywords","Array","isArray","author","email","url","defaultDottedInitLicense","dottedInitLicense","license"],"mappings":"AAAA;AACA,IAAIA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIE,eAAe,GAAGF,OAAO,CAAC,8BAAD,CAA7B;;AACA,IAAIG,YAAY,GAAGH,OAAO,CAAC,2BAAD,CAA1B;;AACA,IAAII,GAAG,GAAGJ,OAAO,CAAC,iBAAD,CAAjB;;AACA,IAAIK,MAAM,GAAGL,OAAO,CAAC,QAAD,CAApB,C,CAEA;;;AACA,SAASM,SAAT,CAAoBC,CAApB,EAAuB;AACrB,SAAO,CAAC,CAACA,CAAC,CAACC,KAAF,CAAQ,sDAAR,CAAT;AACD;;AAED,SAASC,QAAT,CAAmBC,CAAnB,EAAsB;AACpB,SAAOA,CAAC,CAACC,OAAF,CAAU,iBAAV,EAA6B,EAA7B,EAAiCA,OAAjC,CAAyC,MAAzC,EAAiD,GAAjD,EAAsDA,OAAtD,CAA8D,IAA9D,EAAoE,GAApE,EAAyEC,WAAzE,EAAP;AACD;;AAED,SAASC,QAAT,CAAmBC,IAAnB,EAAyBC,QAAzB,EAAmC;AACjC,SAAO,UAAUC,EAAV,EAAc;AACnBjB,IAAAA,EAAE,CAACkB,OAAH,CAAW,cAAX,EAA2B,UAAUC,EAAV,EAAcC,GAAd,EAAmB;AAC5C,UAAID,EAAJ,EAAQ;AACN,eAAOF,EAAE,EAAT;AACD;;AACD,UAAII,IAAI,GAAG,EAAX;AACA,UAAIV,CAAC,GAAGS,GAAG,CAACE,MAAZ;;AACA,UAAIX,CAAC,KAAK,CAAV,EAAa;AACX,eAAOM,EAAE,CAAC,IAAD,EAAOI,IAAP,CAAT;AACD;;AACDD,MAAAA,GAAG,CAACG,OAAJ,CAAY,UAAUC,CAAV,EAAa;AACvB,YAAIA,CAAC,CAACf,KAAF,CAAQ,KAAR,CAAJ,EAAoB;AAClB,iBAAOgB,IAAI,EAAX;AACD;;AACD,YAAIV,IAAI,KAAKR,SAAS,CAACiB,CAAD,CAAlB,IAAyBR,QAAQ,CAACQ,CAAD,CAArC,EAA0C;AACxC,iBAAOC,IAAI,EAAX;AACD;;AAED,YAAIC,EAAE,GAAGxB,IAAI,CAACyB,IAAL,CAAUC,OAAV,EAAmB,cAAnB,EAAmCJ,CAAnC,EAAsC,cAAtC,CAAT;AACAxB,QAAAA,EAAE,CAAC6B,QAAH,CAAYH,EAAZ,EAAgB,MAAhB,EAAwB,UAAUP,EAAV,EAAcX,CAAd,EAAiB;AACvC,cAAIW,EAAJ,EAAQ;AACN,mBAAOM,IAAI,EAAX;AACD;;AACD,cAAI;AACFjB,YAAAA,CAAC,GAAGsB,IAAI,CAACC,KAAL,CAAWvB,CAAX,CAAJ;AACD,WAFD,CAEE,OAAOwB,CAAP,EAAU;AACV,mBAAOP,IAAI,EAAX;AACD;;AACD,cAAI,CAACjB,CAAC,CAACyB,OAAP,EAAgB;AACd,mBAAOR,IAAI,EAAX;AACD;;AACD,cAAIjB,CAAC,CAAC0B,WAAN,EAAmB;AACjB,gBAAI,CAAC1B,CAAC,CAAC0B,WAAF,CAAcC,IAAd,CAAmB,UAAUC,GAAV,EAAe;AACrC,qBAAOA,GAAG,KAAK,OAAf;AACD,aAFI,CAAL,EAEI;AACF,qBAAOX,IAAI,EAAX;AACD;AACF;;AACDJ,UAAAA,IAAI,CAACG,CAAD,CAAJ,GAAUa,MAAM,CAACC,GAAP,CAAW,YAAX,IAA2B9B,CAAC,CAACyB,OAA7B,GAAuCI,MAAM,CAACC,GAAP,CAAW,aAAX,IAA4B9B,CAAC,CAACyB,OAA/E;AACA,iBAAOR,IAAI,EAAX;AACD,SArBD;AAsBD,OA/BD;;AAgCA,eAASA,IAAT,GAAiB;AACf,YAAI,EAAEd,CAAF,KAAQ,CAAZ,EAAe;AACb,iBAAOM,EAAE,CAAC,IAAD,EAAOI,IAAP,CAAT;AACD;AACF;AACF,KA9CD;AA+CD,GAhDD;AAiDD;;AAED,IAAIkB,IAAI,GAAG7B,QAAQ,CAAC8B,OAAO,CAACD,IAAR,IAAgBE,QAAjB,CAAnB;AACA,IAAIC,IAAJ;;AACA,IAAI;AACFA,EAAAA,IAAI,GAAGrC,GAAG,CAACkC,IAAD,CAAV;AACD,CAFD,CAEE,OAAOP,CAAP,EAAU;AACVU,EAAAA,IAAI,GAAG,EAAP;AACD;;AACD,IAAIC,KAAK,GAAGN,MAAM,CAACC,GAAP,CAAW,OAAX,CAAZ;;AACA,IAAIK,KAAJ,EAAW;AACT,MAAIA,KAAK,CAACC,MAAN,CAAa,CAAb,MAAoB,GAAxB,EAA6B;AAC3BD,IAAAA,KAAK,GAAG,MAAMA,KAAd;AACD;;AACD,MAAID,IAAI,CAACC,KAAT,EAAgB;AACdJ,IAAAA,IAAI,GAAGI,KAAK,GAAG,GAAR,GAAcD,IAAI,CAACH,IAAL,CAAUM,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAArB;AACD,GAFD,MAEO;AACLN,IAAAA,IAAI,GAAGI,KAAK,GAAG,GAAR,GAAcJ,IAArB;AACD;AACF;;AACDO,OAAO,CAACP,IAAR,GAAeQ,GAAG,GAAGR,IAAH,GAAUS,MAAM,CAAC,cAAD,EAAiBT,IAAjB,EAAuB,UAAUU,IAAV,EAAgB;AACvE,MAAIC,GAAG,GAAG9C,YAAY,CAAC6C,IAAD,CAAtB;;AACA,MAAIC,GAAG,CAACC,mBAAR,EAA6B;AAC3B,WAAOF,IAAP;AACD;;AACD,MAAIG,MAAM,GAAG,CAACF,GAAG,CAACE,MAAJ,IAAc,EAAf,EAAmBC,MAAnB,CAA0BH,GAAG,CAACI,QAAJ,IAAgB,EAA1C,CAAb;AACA,MAAInC,EAAE,GAAG,IAAIoC,KAAJ,CAAU,YAAYH,MAAM,CAACzB,IAAP,CAAY,OAAZ,CAAZ,GAAmC,GAA7C,CAAT;AACAR,EAAAA,EAAE,CAACqC,QAAH,GAAc,IAAd;AACA,SAAOrC,EAAP;AACD,CATiC,CAAlC;AAWA,MAAMsC,wBAAwB,GAAGpB,MAAM,IACrCA,MAAM,CAACqB,QADwB,IAE/BrB,MAAM,CAACqB,QAAP,CAAgB,cAAhB,CAFF;AAGA,MAAMC,iBAAiB,GACrBtB,MAAM,CAACC,GAAP,CAAW,cAAX,MAA+BmB,wBAA/B,IACApB,MAAM,CAACC,GAAP,CAAW,cAAX,CAFF;AAGA,IAAIL,OAAO,GAAGO,OAAO,CAACP,OAAR,IACA0B,iBADA,IAEAtB,MAAM,CAACC,GAAP,CAAW,cAAX,CAFA,IAGA,OAHd;AAIAQ,OAAO,CAACb,OAAR,GAAkBc,GAAG,GACnBd,OADmB,GAEnBe,MAAM,CAAC,SAAD,EAAYf,OAAZ,EAAqB,UAAUA,OAAV,EAAmB;AAC5C,MAAI3B,MAAM,CAACsD,KAAP,CAAa3B,OAAb,CAAJ,EAA2B;AACzB,WAAOA,OAAP;AACD;;AACD,MAAId,EAAE,GAAG,IAAIoC,KAAJ,CAAU,uBAAuBtB,OAAvB,GAAiC,GAA3C,CAAT;AACAd,EAAAA,EAAE,CAACqC,QAAH,GAAc,IAAd;AACA,SAAOrC,EAAP;AACD,CAPK,CAFR;;AAWA,IAAI,CAACqB,OAAO,CAACqB,WAAb,EAA0B;AACxBf,EAAAA,OAAO,CAACe,WAAR,GAAsBd,GAAG,GAAG,EAAH,GAAQC,MAAM,CAAC,aAAD,CAAvC;AACD;;AAED,IAAI,CAACR,OAAO,CAACsB,IAAb,EAAmB;AACjBhB,EAAAA,OAAO,CAACgB,IAAR,GAAe,UAAU7C,EAAV,EAAc;AAC3BjB,IAAAA,EAAE,CAACkB,OAAH,CAAWU,OAAX,EAAoB,UAAUT,EAAV,EAAc4C,CAAd,EAAiB;AACnC,UAAI5C,EAAJ,EAAQ;AACN4C,QAAAA,CAAC,GAAG,EAAJ;AACD;;AAEDA,MAAAA,CAAC,GAAGA,CAAC,CAACC,MAAF,CAAS,UAAUD,CAAV,EAAa;AACxB,eAAOA,CAAC,CAACtD,KAAF,CAAQ,OAAR,CAAP;AACD,OAFG,CAAJ;;AAIA,UAAIsD,CAAC,CAACE,OAAF,CAAU,UAAV,MAA0B,CAAC,CAA/B,EAAkC;AAChCF,QAAAA,CAAC,GAAG,UAAJ;AACD,OAFD,MAEO,IAAIA,CAAC,CAACE,OAAF,CAAU,SAAV,MAAyB,CAAC,CAA9B,EAAiC;AACtCF,QAAAA,CAAC,GAAG,SAAJ;AACD,OAFM,MAEA,IAAIA,CAAC,CAACE,OAAF,CAAUxB,QAAQ,GAAG,KAArB,MAAgC,CAAC,CAArC,EAAwC;AAC7CsB,QAAAA,CAAC,GAAGtB,QAAQ,GAAG,KAAf;AACD,OAFM,MAEA;AACLsB,QAAAA,CAAC,GAAGA,CAAC,CAAC,CAAD,CAAL;AACD;;AAED,UAAIG,KAAK,GAAGH,CAAC,IAAI,UAAjB;AACA,aAAO9C,EAAE,CAAC,IAAD,EAAO8B,GAAG,GAAGmB,KAAH,GAAWlB,MAAM,CAAC,aAAD,EAAgBkB,KAAhB,CAA3B,CAAT;AACD,KArBD;AAsBD,GAvBD;AAwBD;;AAED,IAAI,CAAC1B,OAAO,CAAC2B,GAAb,EAAkB;AAChBrB,EAAAA,OAAO,CAACqB,GAAR,GAAc,UAAUlD,EAAV,EAAc;AAC1BjB,IAAAA,EAAE,CAACkB,OAAH,CAAWhB,IAAI,CAACkE,OAAL,CAAaxC,OAAb,EAAsB,KAAtB,CAAX,EAAyC,UAAUT,EAAV,EAAcK,CAAd,EAAiB;AACxD;AACA,UAAIL,EAAJ,EAAQ;AACN,eAAOF,EAAE,EAAT;AACD,OAJuD,CAKxD;;;AACA,UAAIoD,CAAC,GAAG7C,CAAC,CAAC8C,IAAF,CAAOP,CAAC,IAAIA,CAAC,CAACtD,KAAF,CAAQ,OAAR,CAAZ,CAAR;;AACA,UAAI4D,CAAJ,EAAO;AACLA,QAAAA,CAAC,GAAI,OAAMA,CAAE,EAAb;AACD;;AACD,aAAOpD,EAAE,CAAC,IAAD,EAAOoD,CAAP,CAAT;AACD,KAXD;AAYD,GAbD;AAcD;;AAEDvB,OAAO,CAACyB,WAAR,GAAsB,UAAUtD,EAAV,EAAc;AAClCjB,EAAAA,EAAE,CAACkB,OAAH,CAAWU,OAAX,EAAoB,UAAUT,EAAV,EAAcqD,IAAd,EAAoB;AACtC,QAAIrD,EAAJ,EAAQ;AACN,aAAOF,EAAE,CAACE,EAAD,CAAT;AACD;;AACD,QAAIsD,GAAG,GAAG,EAAV;AACAD,IAAAA,IAAI,CAACjD,OAAL,CAAa,UAAUC,CAAV,EAAa;AACxB,cAAQA,CAAR;AACE,aAAK,SAAL;AAAgB,aAAK,UAAL;AAAiB,iBAAOiD,GAAG,CAACC,OAAJ,GAAclD,CAArB;;AACjC,aAAK,MAAL;AAAa,aAAK,OAAL;AAAc,iBAAOiD,GAAG,CAAC1D,IAAJ,GAAWS,CAAlB;;AAC3B,aAAK,KAAL;AAAY,aAAK,MAAL;AAAa,iBAAOiD,GAAG,CAACE,GAAJ,GAAUnD,CAAjB;;AACzB,aAAK,KAAL;AAAY,iBAAOiD,GAAG,CAACG,GAAJ,GAAUpD,CAAjB;;AACZ,aAAK,KAAL;AAAY,iBAAOiD,GAAG,CAACI,GAAJ,GAAUrD,CAAjB;AALd;AAOD,KARD;;AASA,QAAIsD,MAAM,CAACC,IAAP,CAAYN,GAAZ,EAAiBnD,MAAjB,KAA4B,CAAhC,EAAmC;AACjCmD,MAAAA,GAAG,GAAGO,SAAN;AACD;;AACD,WAAO/D,EAAE,CAAC,IAAD,EAAOwD,GAAP,CAAT;AACD,GAlBD;AAmBD,CApBD;;AAsBA,IAAI,CAACjC,OAAO,CAACyC,YAAb,EAA2B;AACzBnC,EAAAA,OAAO,CAACmC,YAAR,GAAuBnE,QAAQ,CAAC,KAAD,EAAQ0B,OAAO,CAAC0C,eAAR,IAA2B,EAAnC,CAA/B;AACD;;AAED,IAAI,CAAC1C,OAAO,CAAC0C,eAAb,EAA8B;AAC5BpC,EAAAA,OAAO,CAACoC,eAAR,GAA0BpE,QAAQ,CAAC,IAAD,EAAO0B,OAAO,CAACyC,YAAR,IAAwB,EAA/B,CAAlC;AACD,C,CAED;;;AACA,IAAIE,CAAC,GAAG3C,OAAO,CAAC4C,OAAR,IAAmB,EAA3B;AACA,IAAIC,MAAM,GAAG,2CAAb;;AACA,IAAI,CAAC7C,OAAO,CAAC4C,OAAb,EAAsB;AACpBtC,EAAAA,OAAO,CAACsC,OAAR,GAAkB,UAAUnE,EAAV,EAAc;AAC9BjB,IAAAA,EAAE,CAACkB,OAAH,CAAWhB,IAAI,CAACyB,IAAL,CAAUC,OAAV,EAAmB,cAAnB,CAAX,EAA+C,UAAUT,EAAV,EAAcK,CAAd,EAAiB;AAC9D8D,MAAAA,YAAY,CAAC9D,CAAC,IAAI,EAAN,EAAUP,EAAV,CAAZ;AACD,KAFD;AAGD,GAJD;AAKD;;AACD,SAASqE,YAAT,CAAuB9D,CAAvB,EAA0BP,EAA1B,EAA8B;AAC5B;AACA,WAASsE,EAAT,CAAaxE,IAAb,EAAmB;AACjB,WAAOA,IAAI,IAAIsE,MAAf;AACD;;AACD,MAAI,CAACF,CAAC,CAACpE,IAAH,IAAWoE,CAAC,CAACpE,IAAF,KAAWsE,MAA1B,EAAkC;AAChC,QAAIG,QAAQ,GAAG;AACbC,MAAAA,GAAG,EAAE,eADQ;AAEbC,MAAAA,QAAQ,EAAE,eAFG;AAGbC,MAAAA,KAAK,EAAE;AAHM,KAAf;AAKA,QAAIC,OAAJ;AACAd,IAAAA,MAAM,CAACC,IAAP,CAAYS,QAAZ,EAAsBjE,OAAtB,CAA8B,UAAUsE,CAAV,EAAa;AACzC,UAAIrE,CAAC,CAACyC,OAAF,CAAU4B,CAAV,MAAiB,CAAC,CAAtB,EAAyB;AACvBD,QAAAA,OAAO,GAAGJ,QAAQ,CAACK,CAAD,CAAlB;AACD;AACF,KAJD;AAKA,QAAIC,EAAE,GAAG,cAAT;;AACA,QAAI/C,GAAJ,EAAS;AACPoC,MAAAA,CAAC,CAACpE,IAAF,GAAS6E,OAAO,IAAIP,MAApB;AACD,KAFD,MAEO;AACLF,MAAAA,CAAC,CAACpE,IAAF,GAAS6E,OAAO,GAAG5C,MAAM,CAAC8C,EAAD,EAAKF,OAAL,EAAcL,EAAd,CAAT,GAA6BvC,MAAM,CAAC8C,EAAD,EAAKP,EAAL,CAAnD;AACD;AACF;;AACD,SAAOtE,EAAE,CAAC,IAAD,EAAOkE,CAAP,CAAT;AACD;;AAED,IAAI,CAAC3C,OAAO,CAACuD,UAAb,EAAyB;AACvBjD,EAAAA,OAAO,CAACiD,UAAR,GAAqB,UAAU9E,EAAV,EAAc;AACjCjB,IAAAA,EAAE,CAAC6B,QAAH,CAAY,aAAZ,EAA2B,MAA3B,EAAmC,UAAUV,EAAV,EAAc6E,KAAd,EAAqB;AACtD,UAAI7E,EAAE,IAAI,CAAC6E,KAAX,EAAkB;AAChB,eAAO/E,EAAE,CAAC,IAAD,EAAO8B,GAAG,GAAG,EAAH,GAAQC,MAAM,CAAC,gBAAD,CAAxB,CAAT;AACD;;AACDgD,MAAAA,KAAK,GAAGA,KAAK,CAACnD,KAAN,CAAY,OAAZ,CAAR;AACA,UAAIoD,CAAC,GAAGD,KAAK,CAAC/B,OAAN,CAAc,mBAAd,CAAR;;AACA,UAAIgC,CAAC,KAAK,CAAC,CAAX,EAAc;AACZ,YAAIC,CAAC,GAAGF,KAAK,CAACC,CAAC,GAAG,CAAL,CAAb;;AACA,YAAI,CAACC,CAAC,CAACzF,KAAF,CAAQ,WAAR,CAAL,EAA2B;AACzByF,UAAAA,CAAC,GAAGF,KAAK,CAACC,CAAC,GAAG,CAAL,CAAT;AACD;;AACD,YAAI,CAACC,CAAC,CAACzF,KAAF,CAAQ,WAAR,CAAL,EAA2B;AACzByF,UAAAA,CAAC,GAAG,IAAJ;AACD,SAFD,MAEO;AACLA,UAAAA,CAAC,GAAGA,CAAC,CAACtF,OAAF,CAAU,YAAV,EAAwB,EAAxB,CAAJ;AACD;AACF;;AACD,UAAIsF,CAAC,IAAIA,CAAC,CAACzF,KAAF,CAAQ,kBAAR,CAAT,EAAsC;AACpCyF,QAAAA,CAAC,GAAGA,CAAC,CAACtF,OAAF,CAAU,kBAAV,EAA8B,qBAA9B,CAAJ;AACD;;AAED,aAAOK,EAAE,CAAC,IAAD,EAAO8B,GAAG,GAAGmD,CAAH,GAAOlD,MAAM,CAAC,gBAAD,EAAmBkD,CAAnB,CAAvB,CAAT;AACD,KAtBD;AAuBD,GAxBD;AAyBD;;AAED,IAAI,CAAC1D,OAAO,CAAC2D,QAAb,EAAuB;AACrBrD,EAAAA,OAAO,CAACqD,QAAR,GAAmBpD,GAAG,GAAG,EAAH,GAAQC,MAAM,CAAC,UAAD,EAAa,UAAUmC,CAAV,EAAa;AAC5D,QAAI,CAACA,CAAL,EAAQ;AACN,aAAOH,SAAP;AACD;;AACD,QAAIoB,KAAK,CAACC,OAAN,CAAclB,CAAd,CAAJ,EAAsB;AACpBA,MAAAA,CAAC,GAAGA,CAAC,CAACxD,IAAF,CAAO,GAAP,CAAJ;AACD;;AACD,QAAI,OAAOwD,CAAP,KAAa,QAAjB,EAA2B;AACzB,aAAOA,CAAP;AACD;;AACD,WAAOA,CAAC,CAACtC,KAAF,CAAQ,QAAR,CAAP;AACD,GAXmC,CAApC;AAYD;;AAED,IAAI,CAACL,OAAO,CAAC8D,MAAb,EAAqB;AACnBxD,EAAAA,OAAO,CAACwD,MAAR,GAAiBjE,MAAM,CAACC,GAAP,CAAW,kBAAX,KACAD,MAAM,CAACC,GAAP,CAAW,kBAAX,CADA,GAEb;AACAC,IAAAA,IAAI,EAAEF,MAAM,CAACC,GAAP,CAAW,kBAAX,KACGD,MAAM,CAACC,GAAP,CAAW,kBAAX,CAFT;AAGAiE,IAAAA,KAAK,EAAElE,MAAM,CAACC,GAAP,CAAW,mBAAX,KACGD,MAAM,CAACC,GAAP,CAAW,mBAAX,CAJV;AAKAkE,IAAAA,GAAG,EAAEnE,MAAM,CAACC,GAAP,CAAW,iBAAX,KACGD,MAAM,CAACC,GAAP,CAAW,iBAAX;AANR,GAFa,GAUbS,GAAG,GAAG,EAAH,GAAQC,MAAM,CAAC,QAAD,CAVrB;AAWD;;AAED,MAAMyD,wBAAwB,GAAGpE,MAAM,IACrCA,MAAM,CAACqB,QADwB,IAE/BrB,MAAM,CAACqB,QAAP,CAAgB,cAAhB,CAFF;AAGA,MAAMgD,iBAAiB,GACrBrE,MAAM,CAACC,GAAP,CAAW,cAAX,MAA+BmE,wBAA/B,IACApE,MAAM,CAACC,GAAP,CAAW,cAAX,CAFF;AAGA,IAAIqE,OAAO,GAAGnE,OAAO,CAACmE,OAAR,IACAD,iBADA,IAEArE,MAAM,CAACC,GAAP,CAAW,cAAX,CAFA,IAGA,KAHd;AAIAQ,OAAO,CAAC6D,OAAR,GAAkB5D,GAAG,GAAG4D,OAAH,GAAa3D,MAAM,CAAC,SAAD,EAAY2D,OAAZ,EAAqB,UAAU1D,IAAV,EAAgB;AAC3E,MAAIC,GAAG,GAAG/C,eAAe,CAAC8C,IAAD,CAAzB;;AACA,MAAIC,GAAG,CAACC,mBAAR,EAA6B;AAC3B,WAAOF,IAAP;AACD;;AACD,MAAIG,MAAM,GAAG,CAACF,GAAG,CAACE,MAAJ,IAAc,EAAf,EAAmBC,MAAnB,CAA0BH,GAAG,CAACI,QAAJ,IAAgB,EAA1C,CAAb;AACA,MAAInC,EAAE,GAAG,IAAIoC,KAAJ,CAAU,YAAYH,MAAM,CAACzB,IAAP,CAAY,OAAZ,CAAZ,GAAmC,GAA7C,CAAT;AACAR,EAAAA,EAAE,CAACqC,QAAH,GAAc,IAAd;AACA,SAAOrC,EAAP;AACD,CATuC,CAAxC","sourcesContent":["/* eslint-disable no-undef */\nvar fs = require('fs')\nvar path = require('path')\nvar validateLicense = require('validate-npm-package-license')\nvar validateName = require('validate-npm-package-name')\nvar npa = require('npm-package-arg')\nvar semver = require('semver')\n\n// more popular packages should go here, maybe?\nfunction isTestPkg (p) {\n  return !!p.match(/^(expresso|mocha|tap|coffee-script|coco|streamline)$/)\n}\n\nfunction niceName (n) {\n  return n.replace(/^node-|[.-]js$/g, '').replace(/\\s+/g, ' ').replace(/ /g, '-').toLowerCase()\n}\n\nfunction readDeps (test, excluded) {\n  return function (cb) {\n    fs.readdir('node_modules', function (er, dir) {\n      if (er) {\n        return cb()\n      }\n      var deps = {}\n      var n = dir.length\n      if (n === 0) {\n        return cb(null, deps)\n      }\n      dir.forEach(function (d) {\n        if (d.match(/^\\./)) {\n          return next()\n        }\n        if (test !== isTestPkg(d) || excluded[d]) {\n          return next()\n        }\n\n        var dp = path.join(dirname, 'node_modules', d, 'package.json')\n        fs.readFile(dp, 'utf8', function (er, p) {\n          if (er) {\n            return next()\n          }\n          try {\n            p = JSON.parse(p)\n          } catch (e) {\n            return next()\n          }\n          if (!p.version) {\n            return next()\n          }\n          if (p._requiredBy) {\n            if (!p._requiredBy.some(function (req) {\n              return req === '#USER'\n            })) {\n              return next()\n            }\n          }\n          deps[d] = config.get('save-exact') ? p.version : config.get('save-prefix') + p.version\n          return next()\n        })\n      })\n      function next () {\n        if (--n === 0) {\n          return cb(null, deps)\n        }\n      }\n    })\n  }\n}\n\nvar name = niceName(package.name || basename)\nvar spec\ntry {\n  spec = npa(name)\n} catch (e) {\n  spec = {}\n}\nvar scope = config.get('scope')\nif (scope) {\n  if (scope.charAt(0) !== '@') {\n    scope = '@' + scope\n  }\n  if (spec.scope) {\n    name = scope + '/' + spec.name.split('/')[1]\n  } else {\n    name = scope + '/' + name\n  }\n}\nexports.name = yes ? name : prompt('package name', name, function (data) {\n  var its = validateName(data)\n  if (its.validForNewPackages) {\n    return data\n  }\n  var errors = (its.errors || []).concat(its.warnings || [])\n  var er = new Error('Sorry, ' + errors.join(' and ') + '.')\n  er.notValid = true\n  return er\n})\n\nconst defaultDottedInitVersion = config &&\n  config.defaults &&\n  config.defaults['init.version']\nconst dottedInitVersion =\n  config.get('init.version') !== defaultDottedInitVersion &&\n  config.get('init.version')\nvar version = package.version ||\n              dottedInitVersion ||\n              config.get('init-version') ||\n              '1.0.0'\nexports.version = yes ?\n  version :\n  prompt('version', version, function (version) {\n    if (semver.valid(version)) {\n      return version\n    }\n    var er = new Error('Invalid version: \"' + version + '\"')\n    er.notValid = true\n    return er\n  })\n\nif (!package.description) {\n  exports.description = yes ? '' : prompt('description')\n}\n\nif (!package.main) {\n  exports.main = function (cb) {\n    fs.readdir(dirname, function (er, f) {\n      if (er) {\n        f = []\n      }\n\n      f = f.filter(function (f) {\n        return f.match(/\\.js$/)\n      })\n\n      if (f.indexOf('index.js') !== -1) {\n        f = 'index.js'\n      } else if (f.indexOf('main.js') !== -1) {\n        f = 'main.js'\n      } else if (f.indexOf(basename + '.js') !== -1) {\n        f = basename + '.js'\n      } else {\n        f = f[0]\n      }\n\n      var index = f || 'index.js'\n      return cb(null, yes ? index : prompt('entry point', index))\n    })\n  }\n}\n\nif (!package.bin) {\n  exports.bin = function (cb) {\n    fs.readdir(path.resolve(dirname, 'bin'), function (er, d) {\n      // no bins\n      if (er) {\n        return cb()\n      }\n      // just take the first js file we find there, or nada\n      let r = d.find(f => f.match(/\\.js$/))\n      if (r) {\n        r = `bin/${r}`\n      }\n      return cb(null, r)\n    })\n  }\n}\n\nexports.directories = function (cb) {\n  fs.readdir(dirname, function (er, dirs) {\n    if (er) {\n      return cb(er)\n    }\n    var res = {}\n    dirs.forEach(function (d) {\n      switch (d) {\n        case 'example': case 'examples': return res.example = d\n        case 'test': case 'tests': return res.test = d\n        case 'doc': case 'docs': return res.doc = d\n        case 'man': return res.man = d\n        case 'lib': return res.lib = d\n      }\n    })\n    if (Object.keys(res).length === 0) {\n      res = undefined\n    }\n    return cb(null, res)\n  })\n}\n\nif (!package.dependencies) {\n  exports.dependencies = readDeps(false, package.devDependencies || {})\n}\n\nif (!package.devDependencies) {\n  exports.devDependencies = readDeps(true, package.dependencies || {})\n}\n\n// MUST have a test script!\nvar s = package.scripts || {}\nvar notest = 'echo \"Error: no test specified\" && exit 1'\nif (!package.scripts) {\n  exports.scripts = function (cb) {\n    fs.readdir(path.join(dirname, 'node_modules'), function (er, d) {\n      setupScripts(d || [], cb)\n    })\n  }\n}\nfunction setupScripts (d, cb) {\n  // check to see what framework is in use, if any\n  function tx (test) {\n    return test || notest\n  }\n  if (!s.test || s.test === notest) {\n    var commands = {\n      tap: 'tap test/*.js',\n      expresso: 'expresso test',\n      mocha: 'mocha',\n    }\n    var command\n    Object.keys(commands).forEach(function (k) {\n      if (d.indexOf(k) !== -1) {\n        command = commands[k]\n      }\n    })\n    var ps = 'test command'\n    if (yes) {\n      s.test = command || notest\n    } else {\n      s.test = command ? prompt(ps, command, tx) : prompt(ps, tx)\n    }\n  }\n  return cb(null, s)\n}\n\nif (!package.repository) {\n  exports.repository = function (cb) {\n    fs.readFile('.git/config', 'utf8', function (er, gconf) {\n      if (er || !gconf) {\n        return cb(null, yes ? '' : prompt('git repository'))\n      }\n      gconf = gconf.split(/\\r?\\n/)\n      var i = gconf.indexOf('[remote \"origin\"]')\n      if (i !== -1) {\n        var u = gconf[i + 1]\n        if (!u.match(/^\\s*url =/)) {\n          u = gconf[i + 2]\n        }\n        if (!u.match(/^\\s*url =/)) {\n          u = null\n        } else {\n          u = u.replace(/^\\s*url = /, '')\n        }\n      }\n      if (u && u.match(/^git@github.com:/)) {\n        u = u.replace(/^git@github.com:/, 'https://github.com/')\n      }\n\n      return cb(null, yes ? u : prompt('git repository', u))\n    })\n  }\n}\n\nif (!package.keywords) {\n  exports.keywords = yes ? '' : prompt('keywords', function (s) {\n    if (!s) {\n      return undefined\n    }\n    if (Array.isArray(s)) {\n      s = s.join(' ')\n    }\n    if (typeof s !== 'string') {\n      return s\n    }\n    return s.split(/[\\s,]+/)\n  })\n}\n\nif (!package.author) {\n  exports.author = config.get('init.author.name') ||\n                   config.get('init-author-name')\n    ? {\n      name: config.get('init.author.name') ||\n               config.get('init-author-name'),\n      email: config.get('init.author.email') ||\n                config.get('init-author-email'),\n      url: config.get('init.author.url') ||\n              config.get('init-author-url'),\n    }\n    : yes ? '' : prompt('author')\n}\n\nconst defaultDottedInitLicense = config &&\n  config.defaults &&\n  config.defaults['init.license']\nconst dottedInitLicense =\n  config.get('init.license') !== defaultDottedInitLicense &&\n  config.get('init.license')\nvar license = package.license ||\n              dottedInitLicense ||\n              config.get('init-license') ||\n              'ISC'\nexports.license = yes ? license : prompt('license', license, function (data) {\n  var its = validateLicense(data)\n  if (its.validForNewPackages) {\n    return data\n  }\n  var errors = (its.errors || []).concat(its.warnings || [])\n  var er = new Error('Sorry, ' + errors.join(' and ') + '.')\n  er.notValid = true\n  return er\n})\n"]},"metadata":{},"sourceType":"script"}
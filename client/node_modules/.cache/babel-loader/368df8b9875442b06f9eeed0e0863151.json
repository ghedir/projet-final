{"ast":null,"code":"const getBinFromManifest = mani => {\n  // if we have a bin matching (unscoped portion of) packagename, use that\n  // otherwise if there's 1 bin or all bin value is the same (alias), use\n  // that, otherwise fail\n  const bin = mani.bin || {};\n  if (new Set(Object.values(bin)).size === 1) return Object.keys(bin)[0]; // XXX probably a util to parse this better?\n\n  const name = mani.name.replace(/^@[^/]+\\//, '');\n  if (bin[name]) return name; // XXX need better error message\n\n  throw Object.assign(new Error('could not determine executable to run'), {\n    pkgid: mani._id\n  });\n};\n\nmodule.exports = getBinFromManifest;","map":{"version":3,"sources":["C:/Users/ghedi/Documents/GhedBlog/node_modules/npm/node_modules/libnpmexec/lib/get-bin-from-manifest.js"],"names":["getBinFromManifest","mani","bin","Set","Object","values","size","keys","name","replace","assign","Error","pkgid","_id","module","exports"],"mappings":"AAAA,MAAMA,kBAAkB,GAAIC,IAAD,IAAU;AACnC;AACA;AACA;AACA,QAAMC,GAAG,GAAGD,IAAI,CAACC,GAAL,IAAY,EAAxB;AACA,MAAI,IAAIC,GAAJ,CAAQC,MAAM,CAACC,MAAP,CAAcH,GAAd,CAAR,EAA4BI,IAA5B,KAAqC,CAAzC,EACE,OAAOF,MAAM,CAACG,IAAP,CAAYL,GAAZ,EAAiB,CAAjB,CAAP,CANiC,CAQnC;;AACA,QAAMM,IAAI,GAAGP,IAAI,CAACO,IAAL,CAAUC,OAAV,CAAkB,WAAlB,EAA+B,EAA/B,CAAb;AACA,MAAIP,GAAG,CAACM,IAAD,CAAP,EACE,OAAOA,IAAP,CAXiC,CAanC;;AACA,QAAMJ,MAAM,CAACM,MAAP,CAAc,IAAIC,KAAJ,CAAU,uCAAV,CAAd,EAAkE;AACtEC,IAAAA,KAAK,EAAEX,IAAI,CAACY;AAD0D,GAAlE,CAAN;AAGD,CAjBD;;AAmBAC,MAAM,CAACC,OAAP,GAAiBf,kBAAjB","sourcesContent":["const getBinFromManifest = (mani) => {\n  // if we have a bin matching (unscoped portion of) packagename, use that\n  // otherwise if there's 1 bin or all bin value is the same (alias), use\n  // that, otherwise fail\n  const bin = mani.bin || {}\n  if (new Set(Object.values(bin)).size === 1)\n    return Object.keys(bin)[0]\n\n  // XXX probably a util to parse this better?\n  const name = mani.name.replace(/^@[^/]+\\//, '')\n  if (bin[name])\n    return name\n\n  // XXX need better error message\n  throw Object.assign(new Error('could not determine executable to run'), {\n    pkgid: mani._id,\n  })\n}\n\nmodule.exports = getBinFromManifest\n"]},"metadata":{},"sourceType":"script"}
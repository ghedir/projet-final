{"ast":null,"code":"const npa = require('npm-package-arg'); // extracted from npm v6 lib/install/realize-shrinkwrap-specifier.js\n\n\nconst specFromLock = (name, lock, where) => {\n  try {\n    if (lock.version) {\n      const spec = npa.resolve(name, lock.version, where);\n\n      if (lock.integrity || spec.type === 'git') {\n        return spec;\n      }\n    }\n\n    if (lock.from) {\n      // legacy metadata includes \"from\", but not integrity\n      const spec = npa.resolve(name, lock.from, where);\n\n      if (spec.registry && lock.version) {\n        return npa.resolve(name, lock.version, where);\n      } else if (!lock.resolved) {\n        return spec;\n      }\n    }\n\n    if (lock.resolved) {\n      return npa.resolve(name, lock.resolved, where);\n    }\n  } catch (_) {}\n\n  try {\n    return npa.resolve(name, lock.version, where);\n  } catch (_) {\n    return {};\n  }\n};\n\nmodule.exports = specFromLock;","map":{"version":3,"sources":["C:/Users/ghedi/Documents/GhedBlog/node_modules/npm/node_modules/@npmcli/arborist/lib/spec-from-lock.js"],"names":["npa","require","specFromLock","name","lock","where","version","spec","resolve","integrity","type","from","registry","resolved","_","module","exports"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,iBAAD,CAAnB,C,CAEA;;;AACA,MAAMC,YAAY,GAAG,CAACC,IAAD,EAAOC,IAAP,EAAaC,KAAb,KAAuB;AAC1C,MAAI;AACF,QAAID,IAAI,CAACE,OAAT,EAAkB;AAChB,YAAMC,IAAI,GAAGP,GAAG,CAACQ,OAAJ,CAAYL,IAAZ,EAAkBC,IAAI,CAACE,OAAvB,EAAgCD,KAAhC,CAAb;;AACA,UAAID,IAAI,CAACK,SAAL,IAAkBF,IAAI,CAACG,IAAL,KAAc,KAApC,EAA2C;AACzC,eAAOH,IAAP;AACD;AACF;;AACD,QAAIH,IAAI,CAACO,IAAT,EAAe;AACb;AACA,YAAMJ,IAAI,GAAGP,GAAG,CAACQ,OAAJ,CAAYL,IAAZ,EAAkBC,IAAI,CAACO,IAAvB,EAA6BN,KAA7B,CAAb;;AACA,UAAIE,IAAI,CAACK,QAAL,IAAiBR,IAAI,CAACE,OAA1B,EAAmC;AACjC,eAAON,GAAG,CAACQ,OAAJ,CAAYL,IAAZ,EAAkBC,IAAI,CAACE,OAAvB,EAAgCD,KAAhC,CAAP;AACD,OAFD,MAEO,IAAI,CAACD,IAAI,CAACS,QAAV,EAAoB;AACzB,eAAON,IAAP;AACD;AACF;;AACD,QAAIH,IAAI,CAACS,QAAT,EAAmB;AACjB,aAAOb,GAAG,CAACQ,OAAJ,CAAYL,IAAZ,EAAkBC,IAAI,CAACS,QAAvB,EAAiCR,KAAjC,CAAP;AACD;AACF,GAnBD,CAmBE,OAAOS,CAAP,EAAU,CAAG;;AACf,MAAI;AACF,WAAOd,GAAG,CAACQ,OAAJ,CAAYL,IAAZ,EAAkBC,IAAI,CAACE,OAAvB,EAAgCD,KAAhC,CAAP;AACD,GAFD,CAEE,OAAOS,CAAP,EAAU;AACV,WAAO,EAAP;AACD;AACF,CA1BD;;AA4BAC,MAAM,CAACC,OAAP,GAAiBd,YAAjB","sourcesContent":["const npa = require('npm-package-arg')\n\n// extracted from npm v6 lib/install/realize-shrinkwrap-specifier.js\nconst specFromLock = (name, lock, where) => {\n  try {\n    if (lock.version) {\n      const spec = npa.resolve(name, lock.version, where)\n      if (lock.integrity || spec.type === 'git') {\n        return spec\n      }\n    }\n    if (lock.from) {\n      // legacy metadata includes \"from\", but not integrity\n      const spec = npa.resolve(name, lock.from, where)\n      if (spec.registry && lock.version) {\n        return npa.resolve(name, lock.version, where)\n      } else if (!lock.resolved) {\n        return spec\n      }\n    }\n    if (lock.resolved) {\n      return npa.resolve(name, lock.resolved, where)\n    }\n  } catch (_) { }\n  try {\n    return npa.resolve(name, lock.version, where)\n  } catch (_) {\n    return {}\n  }\n}\n\nmodule.exports = specFromLock\n"]},"metadata":{},"sourceType":"script"}